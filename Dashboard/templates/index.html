<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Advanced Candlestick Chart</title>
  <link rel="stylesheet" href="/static/style.css">
  <script src="https://unpkg.com/lightweight-charts@4.0.1/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
  <div id="sidebar" class="sidebar">
    <div class="sidebar-header">
      <button id="hamburger" class="hamburger" title="Toggle sidebar ☰">☰</button>
      <h3>Indicators</h3>
    </div>

    <div class="sidebar-content">
      <div class="group">
        <label class="control"><span class="badge" id="badge-sma20"></span><input id="toggle-sma20" type="checkbox" checked> SMA 20</label>
        <label class="control"><span class="badge" id="badge-sma50"></span><input id="toggle-sma50" type="checkbox" checked> SMA 50</label>
        <label class="control"><span class="badge" id="badge-ema12"></span><input id="toggle-ema12" type="checkbox" checked> EMA 12</label>
        <label class="control"><span class="badge" id="badge-bb"></span><input id="toggle-bb" type="checkbox" checked> Bollinger Bands (20,2)</label>
        <label class="control"><span class="badge" id="badge-pace"></span><input id="paceproToggle" type="checkbox" checked> PacePro</label>
      </div>

      <div class="group-title">Oscillators (separate panels)</div>
      <div class="group">
        <label class="control"><span class="badge" id="badge-rsi"></span><input id="toggle-rsi" type="checkbox" checked> RSI 14</label>
        <label class="control"><span class="badge" id="badge-macd"></span><input id="toggle-macd" type="checkbox" checked> MACD (12,26,9)</label>
      </div>
      <div class="group-title">Trade Alerts</div>
      <div class="group">
        <label class="control">
          <span class="badge" style="background:#2ECC71"></span>
          <input id="toggle-signals" type="checkbox" checked>
          In-Day Buy / Sell
        </label>
      </div>

      <div class="group-title">Range</div>
      <div class="group small">
        <label>Start:
          <input id="start" type="datetime-local">
        </label>
        <label>End:
          <input id="end" type="datetime-local">
        </label>
        <div style="margin-top:8px;">
          <button id="btnLoad">Load Range</button>
          <button id="btnLatest">Load Latest</button>
        </div>
      </div>

      <div class="small note">Data range and lazy-loading preserved. Indicators update automatically.</div>
    </div>
  </div>

  <div id="overlay" class="overlay" style="display:none;"></div>

  <div id="main">
    <div id="chart-area">
      <div id="chart-main" class="chart-box">
        <button id="fullscreenBtn" class="fullscreen-btn" title="Full screen ⤢">⤢</button>
        <!-- main Lightweight Chart will be rendered inside -->
      </div>
      <div id="chart-rsi" class="chart-box subchart"></div>
      <div id="chart-macd" class="chart-box subchart"></div>
    </div>
  </div>

  <script src="/static/chart.js"></script>
</body>
</html>
