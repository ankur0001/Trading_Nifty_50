<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Advanced Candlestick Chart</title>
  <link rel="stylesheet" href="/static/style.css">
  <script src="https://unpkg.com/lightweight-charts@4.0.1/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
  <header class="chart-header">
    <div class="header-left">
      <span class="title">Chart Analysis</span>
    </div>

    <div class="header-right">

      <div class="dropdown">
        <button class="header-btn" id="tfBtn">
          1m ▾
        </button>
        <div class="dropdown-panel">
          <div class="section">
            <button class="tf-option" data-tf="1">1 Minute</button>
            <button class="tf-option" data-tf="2">2 Minutes</button>
            <button class="tf-option" data-tf="3">3 Minutes</button>
            <button class="tf-option" data-tf="5">5 Minutes</button>
            <button class="tf-option" data-tf="15">15 Minutes</button>
            <button class="tf-option" data-tf="30">30 Minutes</button>
            <button class="tf-option" data-tf="45">45 Minutes</button>
          </div>
        </div>
      </div>


      <div class="dropdown">
        <button class="header-btn">
          Indicators ▾
        </button>
        <div class="dropdown-panel">
          <div class="section">
            <label><span class="badge sma20"></span><input id="toggle-sma20" type="checkbox" checked> SMA 20</label>
            <label><span class="badge sma50"></span><input id="toggle-sma50" type="checkbox" checked> SMA 50</label>
            <label><span class="badge ema12"></span><input id="toggle-ema12" type="checkbox" checked> EMA 12</label>
            <label><span class="badge bb"></span><input id="toggle-bb" type="checkbox" checked> Bollinger Bands</label>
            <label><span class="badge pacepro"></span><input id="paceproToggle" type="checkbox"> PacePro</label>
          </div>

          <div class="divider"></div>

          <div class="section">
            <label><span class="badge rsi"></span><input id="toggle-rsi" type="checkbox" checked> RSI</label>
            <label><span class="badge macd"></span><input id="toggle-macd" type="checkbox" checked> MACD</label>
          </div>

          <div class="divider"></div>

          <div class="section">
            <label><span class="badge signals"></span><input id="toggle-signals" type="checkbox"> Trade Alerts</label>
          </div>
        </div>
      </div>

      <button id="rangeBtn" class="status-btn">
        Range: Not Set
      </button>

      <button id="replayBtn" class="status-btn">
        Replay: OFF
      </button>
    </div>
  </header>

  <div id="rangePanel" class="floating-panel hidden">
    <label>From
      <input id="start" type="datetime-local">
    </label>
    <label>To
      <input id="end" type="datetime-local">
    </label>
    <button id="btnLoad">Load</button>
  </div>

  <div id="replayPanel" class="floating-panel hidden">
    <label>Replay Start
      <input id="replayStart" type="datetime-local">
    </label>
    <label>Speed (ms)
      <input id="replaySpeed" type="number" value="800">
    </label>

    <div class="replay-actions">
      <button id="btnPlay">▶</button>
      <button id="btnStop" disabled>⏸</button>
    </div>
  </div>



  <div id="overlay" class="overlay" style="display:none;"></div>

  <div id="main">
    <div id="chart-area">
      <div id="chart-main" class="chart-box chart-panel">
        <button id="fullscreenBtn" class="fullscreen-btn" title="Full screen ⤢">⤢</button>
        <!-- main Lightweight Chart will be rendered inside -->
      </div>
      <div id="chart-rsi" class="chart-box subchart chart-panel"></div>
      <div id="chart-macd" class="chart-box subchart chart-panel"></div>
    </div>
  </div>

  <script src="/static/chart.js"></script>
</body>
</html>
